<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 4 Quiz - EDUCATION DEPARTMENT SCREENING TEST PREPARATION – June 22, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* General Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Full viewport height */
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Top Bar Styling */
        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Header Section Styling */
        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489); /* Teal to Mint Green */
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #6D6875;
            margin-top: 0.5rem;
        }

        /* Card Styling (for login, quiz, results pages) */
        .card {
            background-color: #FFF5EE; /* PeachPuff - very light, warm tone */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        /* Button Styling */
        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff - light and attractive */
            color: #2C3E50; /* Dark text for contrast */
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd; /* Light border */
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }

        .option-button:hover:not(.selected) {
            background-color: #f0f0f0; /* Slightly darker on hover */
        }

        .option-button.selected {
            border-color: #6D6875; /* Medium gray for selected */
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745; /* Darker green border */
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Light Red */
            border-color: #dc3545; /* Darker red border */
            animation: shake-red 0.5s ease-out forwards;
        }

        /* Special Question Styling */
        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5); /* Glowing effect */
        }

        /* Explanation Section Styling */
        .explanation {
            background-color: #e0f7fa; /* Light Cyan */
            border-left: 5px solid #20B2AA; /* Teal border */
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        /* Timer and Progress Display */
        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Animations */
        @keyframes pulse-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.01); }
            100% { transform: scale(1); }
        }

        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
            }
            .top-bar .date-display {
                order: 2; /* Move date to bottom on mobile */
                font-size: 0.8rem;
            }
            .top-bar .whatsapp-link {
                order: 1; /* Move whatsapp to top on mobile */
                font-size: 0.8rem;
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>

    <script>
        // Disable right-click, specific keyboard shortcuts (Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J, F12), copy, and paste
        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault();
            }
            if (e.key === 'F12') {
                e.preventDefault();
            }
        });
        document.addEventListener('copy', event => event.preventDefault());
        document.addEventListener('paste', event => event.preventDefault());
    </script>

    <div class="top-bar">
        <a href="https://chat.whatsapp.com/H3uhXoDodPmAOaVvi3PcZq" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
        <div class="date-display" id="liveDate"></div>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/LXdkJVy8/20250524-0050-Empowering-Educators-remix-01jw0makvqewdvqns1te3jvpgs.png" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            KP Teacher Corps | PREPARED BY: SYED ASGHAR ALI SHAH | Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
            </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / <span id="maxScore"></span></p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "June 22, 2025";
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('liveDate').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `Day 4 Quiz - EDUCATION DEPARTMENT SCREENING TEST PREPARATION – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        const quizQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40; // Default quiz duration
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date().toDateString();
            if (question.special && CURRENT_DATE.toDateString() === today) {
                quizCard.classList.add('special-question');
            }

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.innerHTML = option; // Use innerHTML to render LaTeX
                button.dataset.optionIndex = index;
                button.onclick = () => selectOption(index);

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === index) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Render math equations using MathJax if available
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise([document.getElementById('questionText'), optionsContainer]);
            }


            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise([explanationDiv]);
            }
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionIndex - The index of the selected option.
         */
        function selectOption(selectedOptionIndex) {
            const question = quizQuestions[currentQuestionIndex];
            const isCorrect = (selectedOptionIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button, index) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('selected', 'correct', 'incorrect'); // Clear previous states

                if (index === selectedOptionIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
             // Render math equations in explanation
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise([document.getElementById('explanationDiv')]);
            }
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let totalAttempted = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    totalAttempted++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const maxPossibleScore = quizQuestions.length * 2; // 2 points per question
            const score = (correctCount * 2) - incorrectCount; // Score calculation: 2 for correct, -1 for incorrect

            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('maxScore').textContent = maxPossibleScore;
            document.getElementById('resultCorrect').textContent = `${correctCount} / ${totalAttempted}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount} / ${totalAttempted}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', "day4"); // Specific ID for Day 4 quiz

            fetch('https://formspree.io/f/xwpojgab', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            // Specific credentials for Day 4
            if (id === 'day4' && password === '4444') {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            // Clear login fields and go back to login page
            document.getElementById('loginId').value = '';
            document.getElementById('loginPassword').value = '';
            document.getElementById('candidateName').value = '';
            showPage('loginPage');
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // Pedagogy (4 MCQs from Pages 13-16)
            const pedagogyMCQs = [
                { question: "What is 'constructivism' in education?", options: ["Students passively receive information.", "Learners actively construct their own understanding and knowledge of the world, through experiencing things and reflecting on those experiences.", "Teaching by rote memorization.", "Teacher-centered instruction."], correctOptionIndex: 1, explanation: "Constructivism emphasizes active learning and personal meaning-making (Page 13)." },
                { question: "Who is a prominent theorist associated with constructivism, emphasizing social interaction in learning?", options: ["Jean Piaget", "B.F. Skinner", "Lev Vygotsky", "Maria Montessori"], correctOptionIndex: 2, explanation: "Vygotsky's sociocultural theory highlights the role of social and cultural contexts in learning (Page 14)." },
                { question: "What is the 'Zone of Proximal Development' (ZPD)?", options: ["What a learner can do independently.", "The range of tasks that a child can perform with the help and guidance of a more skilled person, but cannot yet perform independently.", "What a learner can never do.", "The sum of all a learner's knowledge."], correctOptionIndex: 1, explanation: "ZPD is a key concept in Vygotsky's theory (Page 15)." },
                { question: "What is 'scaffolding' in education?", options: ["Removing all support from learners.", "A variety of instructional techniques used to move students progressively toward stronger understanding and greater independence in the learning process.", "Only providing direct answers.", "Ignoring student difficulties."], correctOptionIndex: 1, explanation: "Scaffolding provides temporary support to help students learn new concepts (Page 16)." }
            ];
            quizQuestions.push(...pedagogyMCQs);

            // General Science (15 MCQs from Pages 135-152)
            const generalScienceMCQs = [
                { question: "What is the study of living organisms and their interactions with each other and their environment?", options: ["Physics", "Chemistry", "Biology", "Geology"], correctOptionIndex: 2, explanation: "Biology encompasses all aspects of life (Page 135)." },
                { question: "What are the basic structural and functional units of all known organisms?", options: ["Atoms", "Molecules", "Cells", "Tissues"], correctOptionIndex: 2, explanation: "Cells are the fundamental building blocks of life (Page 136)." },
                { question: "Which organelle is known as the 'powerhouse' of the cell?", options: ["Nucleus", "Ribosome", "Mitochondria", "Endoplasmic Reticulum"], correctOptionIndex: 2, explanation: "Mitochondria generate most of the chemical energy needed to power a cell's biochemical reactions (Page 137)." },
                { question: "What is the process by which green plants and some other organisms use sunlight to synthesize foods from carbon dioxide and water?", options: ["Respiration", "Fermentation", "Photosynthesis", "Digestion"], correctOptionIndex: 2, explanation: "Photosynthesis is crucial for life on Earth (Page 138)." },
                { question: "Which gas is a byproduct of photosynthesis?", options: ["Carbon Dioxide", "Nitrogen", "Oxygen", "Hydrogen"], correctOptionIndex: 2, explanation: "Oxygen is released into the atmosphere during photosynthesis (Page 139)." },
                { question: "What is the process of breaking down glucose and other food molecules to release energy in the presence of oxygen?", options: ["Photosynthesis", "Fermentation", "Cellular Respiration", "Absorption"], correctOptionIndex: 2, explanation: "Cellular respiration occurs in the mitochondria of cells (Page 140)." },
                { question: "Which system in the human body is responsible for pumping blood throughout the body?", options: ["Respiratory system", "Digestive system", "Circulatory system", "Nervous system"], correctOptionIndex: 2, explanation: "The circulatory system, including the heart, blood vessels, and blood, transports oxygen and nutrients (Page 141)." },
                { question: "What are the tiny air sacs in the lungs where gas exchange occurs?", options: ["Bronchi", "Trachea", "Alveoli", "Diaphragm"], correctOptionIndex: 2, explanation: "Alveoli are surrounded by capillaries, allowing oxygen and carbon dioxide exchange (Page 142)." },
                { question: "Which system controls and coordinates all body activities?", options: ["Circulatory system", "Digestive system", "Nervous system", "Skeletal system"], correctOptionIndex: 2, explanation: "The nervous system, composed of the brain, spinal cord, and nerves, is responsible for communication and control (Page 143)." },
                { question: "What are the building blocks of proteins?", options: ["Carbohydrates", "Lipids", "Amino Acids", "Nucleic Acids"], correctOptionIndex: 2, explanation: "Amino acids link together to form long chains called proteins (Page 144)." },
                { question: "Which nutrient is the body's main source of energy?", options: ["Proteins", "Fats", "Carbohydrates", "Vitamins"], correctOptionIndex: 2, explanation: "Carbohydrates are broken down into glucose for energy (Page 145)." },
                { question: "What is the role of enzymes in the human body?", options: ["Store energy.", "Build bones.", "Act as biological catalysts, speeding up chemical reactions.", "Transport oxygen."], correctOptionIndex: 2, explanation: "Enzymes are crucial for digestion, metabolism, and many other processes (Page 146)." },
                { question: "Which part of a plant is responsible for absorbing water and nutrients from the soil?", options: ["Leaves", "Stem", "Roots", "Flowers"], correctOptionIndex: 2, explanation: "Roots anchor the plant and absorb essential substances (Page 147)." },
                { question: "What is the process by which plants release water vapor into the atmosphere?", options: ["Condensation", "Precipitation", "Transpiration", "Evaporation"], correctOptionIndex: 2, explanation: "Transpiration is the evaporation of water from plant leaves (Page 148)." },
                { question: "What is the primary function of the skeletal system?", options: ["Digestion", "Circulation", "Support, protection, and movement", "Respiration"], correctOptionIndex: 2, explanation: "The skeletal system provides framework and allows movement (Page 149)." }
            ];
            quizQuestions.push(...generalScienceMCQs);

            // Social Studies (15 MCQs from Pages 489-506)
            const socialStudiesMCQs = [
                { question: "What is 'culture'?", options: ["Only art and music.", "The shared patterns of behaviors, interactions, cognitive constructs, and affective understanding that are learned through a process of socialization.", "Individual habits.", "Genetic traits."], correctOptionIndex: 1, explanation: "Culture encompasses all aspects of a group's way of life (Page 489)." },
                { question: "Which of the following is a component of culture?", options: ["Personal preferences.", "Values, beliefs, customs, languages, and artifacts.", "Random actions.", "Instincts."], correctOptionIndex: 1, explanation: "Culture is a complex system of shared elements (Page 490)." },
                { question: "What is 'socialization'?", options: ["Becoming isolated.", "The process by which individuals learn and internalize the norms, values, beliefs, and behaviors of their society.", "Only formal education.", "Biological maturation."], correctOptionIndex: 1, explanation: "Socialization is how individuals become members of a society (Page 491)." },
                { question: "Which of the following is an agent of socialization?", options: ["Random events.", "Family, school, peer groups, and mass media.", "Natural disasters.", "Personal thoughts."], correctOptionIndex: 1, explanation: "These agents transmit culture and norms (Page 492)." },
                { question: "What is 'identity'?", options: ["Only personal name.", "The distinguishing characteristics or personality of an individual, or group, considered as a whole.", "A fixed, unchanging trait.", "Only physical appearance."], correctOptionIndex: 1, explanation: "Identity is shaped by personal experiences and social interactions (Page 493)." },
                { question: "What is 'cultural diversity'?", options: ["One dominant culture.", "The existence of a variety of cultural groups within a society.", "Absence of culture.", "Cultural assimilation."], correctOptionIndex: 1, explanation: "Cultural diversity enriches societies and fosters unique perspectives (Page 494)." },
                { question: "What is 'ethnocentrism'?", options: ["Appreciating all cultures equally.", "Evaluating other cultures according to preconceptions originating in the standards and customs of one's own culture.", "Cultural relativism.", "Global perspective."], correctOptionIndex: 1, explanation: "Ethnocentrism can lead to prejudice and misunderstanding (Page 495)." },
                { question: "What is 'cultural relativism'?", options: ["Judging all cultures based on one's own.", "The principle that an individual's beliefs and activities should be understood by others in terms of that individual's own culture.", "Believing one's culture is superior.", "Ignoring cultural differences."], correctOptionIndex: 1, explanation: "Cultural relativism promotes understanding and respect for diverse cultures (Page 496)." },
                { question: "What is 'social institutions'?", options: ["Only government buildings.", "Established or standardized patterns of rule-governed behavior.", "Informal gatherings.", "Individual organizations."], correctOptionIndex: 1, explanation: "Social institutions organize society and fulfill basic needs (Page 497)." },
                { question: "Which of the following is a key social institution?", options: ["A hobby club.", "Family, education, government, economy, and religion.", "A sports team.", "A temporary committee."], correctOptionIndex: 1, explanation: "These institutions are fundamental to societal structure (Page 498)." },
                { question: "What is 'family' as a social institution?", options: ["Any group of unrelated people.", "A group of people related by blood, marriage, or adoption, who live together and form an economic unit and care for any young.", "Only a nuclear family.", "A workplace environment."], correctOptionIndex: 1, explanation: "Family is the primary unit of socialization (Page 499)." },
                { question: "What is the primary function of the 'education' social institution?", options: ["Providing entertainment.", "Transmitting knowledge, skills, values, and norms to new generations.", "Only vocational training.", "Controlling the economy."], correctOptionIndex: 1, explanation: "Education is vital for societal development and individual growth (Page 500)." },
                { question: "What is 'government' as a social institution?", options: ["A group of volunteers.", "The system or group of people governing an organized community, generally a state.", "A business entity.", "A religious organization."], correctOptionIndex: 1, explanation: "Government maintains order and provides public services (Page 501)." },
                { question: "What is 'economy' as a social institution?", options: ["Individual spending habits.", "The system of production, distribution, and consumption of goods and services.", "Only banking.", "A non-profit organization."], correctOptionIndex: 1, explanation: "The economy organizes how societies manage resources (Page 502)." },
                { question: "What is 'religion' as a social institution?", options: ["Only personal beliefs.", "A social-cultural system of designated behaviors and practices, morals, worldviews, texts, sanctified places, prophecies, ethics, or organizations that relates humanity to supernatural, transcendental, or spiritual elements.", "A political party.", "A scientific theory."], correctOptionIndex: 1, explanation: "Religion provides meaning, moral guidance, and social cohesion (Page 503)." }
            ];
            quizQuestions.push(...socialStudiesMCQs);

            // Geography (8 MCQs from Pages 543-550)
            const geographyMCQs = [
                { question: "What is 'population density'?", options: ["The total number of people in a country.", "The number of people living per unit of area (e.g., per square kilometer or mile).", "The birth rate of a country.", "The migration rate of a country."], correctOptionIndex: 1, explanation: "Population density indicates how crowded an area is (Page 543)." },
                { question: "Which of the following factors influences population distribution?", options: ["Only political borders.", "Climate, landforms, water availability, and economic opportunities.", "Type of housing.", "Number of schools."], correctOptionIndex: 1, explanation: "These factors determine where people choose to live (Page 544)." },
                { question: "What is 'urban sprawl'?", options: ["Growth of dense cities.", "The uncontrolled expansion of urban areas, often characterized by low-density development.", "Development of parks.", "Preservation of farmland."], correctOptionIndex: 1, explanation: "Urban sprawl consumes open space and increases dependence on cars (Page 545)." },
                { question: "What is 'demography'?", options: ["The study of maps.", "The statistical study of populations, including their size, growth, density, distribution, and vital statistics.", "The study of rocks.", "The study of animals."], correctOptionIndex: 1, explanation: "Demography provides insights into population trends (Page 546)." },
                { question: "What is 'birth rate'?", options: ["The number of deaths per 1,000 people per year.", "The number of live births per 1,000 people per year.", "The number of people moving into a country.", "The average age of a population."], correctOptionIndex: 1, explanation: "Birth rate is a key indicator of population growth (Page 547)." },
                { question: "What is 'death rate'?", options: ["The number of live births per 1,000 people per year.", "The number of deaths per 1,000 people per year.", "The average lifespan.", "The infant mortality rate."], correctOptionIndex: 1, explanation: "Death rate reflects mortality trends within a population (Page 548)." },
                { question: "What is 'migration'?", options: ["Staying in one place.", "The movement of people from one place to another with the intention of settling permanently or semi-permanently.", "Seasonal travel.", "Daily commuting."], correctOptionIndex: 1, explanation: "Migration involves a change of residence (Page 549)." },
                { question: "What is 'push factors' in migration?", options: ["Attractions of a new place.", "Conditions that compel people to leave their homes, such as war, poverty, or lack of jobs.", "Reasons people stay put.", "Factors attracting skilled workers."], correctOptionIndex: 1, explanation: "Push factors drive people away from their current location (Page 550)." }
            ];
            quizQuestions.push(...geographyMCQs);

            // History (10 MCQs from Pages 665-680)
            const historyMCQs = [
                { question: "What was the immediate cause of World War II?", options: ["The assassination of Archduke Franz Ferdinand.", "Germany's invasion of Poland.", "The attack on Pearl Harbor.", "The Treaty of Versailles."], correctOptionIndex: 1, explanation: "Germany's invasion of Poland on September 1, 1939, triggered declarations of war by France and the UK (Page 665)." },
                { question: "Which major alliance fought against the Axis Powers (Germany, Italy, Japan) in World War II?", options: ["Triple Alliance", "Central Powers", "Allied Powers (UK, France, Soviet Union, US)", "NATO"], correctOptionIndex: 2, explanation: "The Allied Powers ultimately defeated the Axis (Page 666)." },
                { question: "What was the 'Holocaust'?", options: ["A major battle of WWII.", "The genocide of approximately six million Jews by the Nazi regime and its collaborators.", "A post-war economic plan.", "A cultural festival."], correctOptionIndex: 1, explanation: "The Holocaust was a horrific systematic extermination (Page 667)." },
                { question: "Which event marked the end of World War II in Europe (V-E Day)?", options: ["D-Day landings.", "The Battle of Stalingrad.", "Germany's unconditional surrender.", "The bombing of Hiroshima."], correctOptionIndex: 2, explanation: "V-E Day occurred on May 8, 1945 (Page 668)." },
                { question: "Which two cities were targeted by atomic bombs, leading to Japan's surrender?", options: ["Tokyo and Kyoto", "Hiroshima and Nagasaki", "Osaka and Sapporo", "Fukuoka and Kobe"], correctOptionIndex: 1, explanation: "The bombings occurred in August 1945 (Page 669)." },
                { question: "What was the 'Cold War'?", options: ["A period of actual warfare between superpowers.", "A state of geopolitical tension after World War II between powers in the Eastern Bloc (Soviet Union and its satellite states) and powers in the Western Bloc (United States, its NATO allies, and others).", "A period of peace and cooperation.", "An economic competition."], correctOptionIndex: 1, explanation: "The Cold War was characterized by ideological conflict and proxy wars (Page 670)." },
                { question: "What was the primary ideological conflict during the Cold War?", options: ["Monarchy vs. Democracy.", "Capitalism vs. Communism.", "Feudalism vs. Industrialism.", "Nationalism vs. Imperialism."], correctOptionIndex: 1, explanation: "The US championed capitalism and democracy, while the Soviet Union promoted communism (Page 671)." },
                { question: "What was the purpose of the 'Marshall Plan'?", options: ["To rebuild Japan.", "To aid Western European economies after WWII and prevent the spread of communism.", "To develop nuclear weapons.", "To establish a military alliance."], correctOptionIndex: 1, explanation: "The Marshall Plan was a significant economic recovery initiative (Page 672)." },
                { question: "What organization was formed in 1949 by Western nations for collective defense against Soviet aggression?", options: ["Warsaw Pact", "United Nations", "NATO (North Atlantic Treaty Organization)", "SEATO"], correctOptionIndex: 2, explanation: "NATO remains a major military alliance today (Page 673)." },
                { question: "What was the 'Space Race'?", options: ["A competition to colonize Mars.", "A 20th-century competition between two Cold War rivals, the Soviet Union and the United States, for supremacy in spaceflight capability.", "A race to build faster planes.", "A competition for global telecommunications."], correctOptionIndex: 1, explanation: "The Space Race saw significant technological advancements and achievements like landing on the Moon (Page 674)." }
            ];
            quizQuestions.push(...historyMCQs);

            // English (8 MCQs from Pages 815-822)
            const englishMCQs = [
                { question: "What is a 'noun'?", options: ["A word that describes an action.", "A word that names a person, place, thing, or idea.", "A word that connects sentences.", "A word that modifies a verb."], correctOptionIndex: 1, explanation: "Nouns are fundamental parts of speech (Page 815)." },
                { question: "In the sentence 'The *boy* ran quickly,' what word is a noun?", options: ["The", "Boy", "Ran", "Quickly"], correctOptionIndex: 1, explanation: "'Boy' names a person (Page 816)." },
                { question: "What is a 'pronoun'?", options: ["A word that describes a noun.", "A word that takes the place of a noun.", "A word that shows action.", "A word that connects ideas."], correctOptionIndex: 1, explanation: "Pronouns help avoid repetition of nouns (Page 817)." },
                { question: "Which of the following is a pronoun?", options: ["Jump", "Beautiful", "He", "Quickly"], correctOptionIndex: 2, explanation: "'He' replaces a male noun (Page 818)." },
                { question: "What is a 'verb'?", options: ["A word that names a place.", "A word that describes an action or a state of being.", "A word that replaces a noun.", "A word that modifies an adjective."], correctOptionIndex: 1, explanation: "Verbs are essential for showing what the subject does or is (Page 819)." },
                { question: "In 'She *sings* loudly,' what word is a verb?", options: ["She", "Sings", "Loudly", "In"], correctOptionIndex: 1, explanation: "'Sings' indicates an action (Page 820)." },
                { question: "What is an 'adjective'?", options: ["A word that shows action.", "A word that describes or modifies a noun or pronoun.", "A word that connects clauses.", "A word that describes a verb."], correctOptionIndex: 1, explanation: "Adjectives provide more information about nouns/pronouns (Page 821)." },
                { question: "In 'The *red* car is fast,' what word is an adjective?", options: ["The", "Red", "Car", "Fast"], correctOptionIndex: 1, explanation: "'Red' describes the 'car' (Page 822)." }
            ];
            quizQuestions.push(...englishMCQs);

            // Mathematics (7 MCQs from Pages 968-974)
            const mathematicsMCQs = [
                { question: "What is the result of $15 + (8 \\times 3) - 20$?", options: ["19", "20", "21", "22"], correctOptionIndex: 1, explanation: "Follow order of operations (BODMAS/PEMDAS): $15 + 24 - 20 = 39 - 20 = 19$ (Page 968)." },
                { question: "What is the value of $5^3$?", options: ["15", "25", "125", "50"], correctOptionIndex: 2, explanation: "$5^3 = 5 \\times 5 \\times 5 = 25 \\times 5 = 125$ (Page 969)." },
                { question: "If a shirt costs $25 and is on sale for 20% off, what is the sale price?", options: ["$5", "$15", "$20", "$22"], correctOptionIndex: 2, explanation: "Discount = $25 \\times 0.20 = 5$. Sale price = $25 - 5 = 20$ (Page 970)." },
                { question: "What is the average (mean) of the numbers {10, 15, 20, 25}?", options: ["15", "17.5", "20", "22.5"], correctOptionIndex: 1, explanation: "Sum = $10+15+20+25 = 70$. Average = $70 / 4 = 17.5$ (Page 971)." },
                { question: "What is the median of the data set {1, 3, 5, 7, 9}?", options: ["1", "3", "5", "7"], correctOptionIndex: 2, explanation: "The median is the middle value in an ordered data set. Here, it is 5 (Page 972)." },
                { question: "What is the range of the data set {10, 5, 20, 12, 8}?", options: ["5", "10", "15", "20"], correctOptionIndex: 2, explanation: "Range = Maximum value - Minimum value = $20 - 5 = 15$ (Page 973)." },
                { question: "If the temperature is -5°C and it drops by another 3°C, what is the new temperature?", options: ["-2°C", "2°C", "-8°C", "8°C"], correctOptionIndex: 2, explanation: "$-5 - 3 = -8$°C (Page 974)." }
            ];
            quizQuestions.push(...mathematicsMCQs);

            // Urdu (10 MCQs from Pages 1126-1142)
            const urduMCQs = [
                { question: "اردو گرامر میں 'فعل لازم' کسے کہتے ہیں؟", options: ["جس فعل کا فاعل نہ ہو", "جس فعل کو مفعول کی ضرورت نہ ہو بلکہ بات فاعل تک مکمل ہو جائے", "جس فعل کو مفعول کی ضرورت ہو", "جس فعل سے سوال پوچھا جائے"], correctOptionIndex: 1, explanation: "فعل لازم وہ ہوتا ہے جو صرف فاعل پر اکتفا کرے (صفحہ 1126)." },
                { question: "درج ذیل میں سے کون سا جملہ 'فعل لازم' کی مثال ہے؟", options: ["علی نے کتاب پڑھی۔", "اسلم سو رہا ہے۔", "اس نے خط لکھا۔", "احمد نے کھانا کھایا۔"], correctOptionIndex: 1, explanation: "'اسلم سو رہا ہے' میں سونے کا فعل صرف فاعل پر مکمل ہے، مفعول کی ضرورت نہیں (صفحہ 1127)." },
                { question: "اردو گرامر میں 'فعل متعدی' کسے کہتے ہیں؟", options: ["جس فعل کو مفعول کی ضرورت نہ ہو", "جس فعل کو مفعول کی ضرورت ہو", "جس فعل سے کام کا ہونا ظاہر ہو", "جس فعل میں زمانہ نہ ہو"], correctOptionIndex: 1, explanation: "فعل متعدی وہ ہوتا ہے جو اپنے معنی مکمل کرنے کے لیے مفعول کا محتاج ہو (صفحہ 1128)." },
                { question: "درج ذیل میں سے کون سا جملہ 'فعل متعدی' کی مثال ہے؟", options: ["پانی بہتا ہے۔", "چڑیا اڑتی ہے۔", "بچے نے گانا گایا۔", "لڑکا ہنسا۔"], correctOptionIndex: 2, explanation: "'بچے نے گانا گایا' میں 'گانا' مفعول ہے (صفحہ 1129)." },
                { question: "اردو میں 'تذکیر و تانیث' سے کیا مراد ہے؟", options: ["واحد اور جمع", "اسم اور فعل", "مذکر اور مونث", "صفت اور مفعول"], correctOptionIndex: 2, explanation: "تذکیر و تانیث اسماء کی جنسی شناخت ہے، یعنی نر یا مادہ ہونا (صفحہ 1130)." },
                { question: "کون سا جملہ 'مذکر' ہے؟", options: ["یہ میری کتاب ہے", "وہ میری ماں ہے", "یہ میرا قلم ہے", "وہ میری بہن ہے"], correctOptionIndex: 2, explanation: "'قلم' مذکر ہے، اس لیے 'میرا قلم' صحیح ہے (صفحہ 1131)." },
                { question: "کون سا جملہ 'مونث' ہے؟", options: ["یہ میرا گھر ہے", "وہ میرا بھائی ہے", "یہ میری گاڑی ہے", "یہ میرا بیٹا ہے"], correctOptionIndex: 2, explanation: "'گاڑی' مونث ہے، اس لیے 'میری گاڑی' صحیح ہے (صفحہ 1132)." },
                { question: "اردو میں 'حرفِ ندا' کا کیا کام ہے؟", options: ["تعجب کا اظہار", "کسی کو پکارنا یا مخاطب کرنا", "نفی کا اظہار", "تصدیق کرنا"], correctOptionIndex: 1, explanation: "حرفِ ندا کسی کو آواز دینے کے لیے استعمال ہوتا ہے (صفحہ 1133)." },
                { question: "درج ذیل میں سے کون سا لفظ 'حرفِ ندا' کی مثال ہے؟", options: ["ارے", "واہ", "افسوس", "شاید"], correctOptionIndex: 0, explanation: "'ارے' کسی کو بلانے کے لیے استعمال ہوتا ہے (صفحہ 1134)." },
                { question: "اردو میں 'علامتِ فاعل' کیا ہے؟", options: ["کو", "سے", "نے", "پر"], correctOptionIndex: 2, explanation: "'نے' فاعل کے ساتھ آتا ہے جب فعل متعدی ہو (صفحہ 1135)." }
            ];
            quizQuestions.push(...urduMCQs);

            // Islamiat (10 MCQs from Pages 1289-1303)
            const islamiatMCQs = [
                { question: "نبی کریم ﷺ کے والد کا نام کیا تھا؟", options: ["ابوطالب", "عبداللہ", "عبدالمطلب", "حمزہ"], correctOptionIndex: 1, explanation: "نبی کریم ﷺ کے والد کا نام عبداللہ تھا (صفحہ 1289)." },
                { question: "نبی کریم ﷺ کی والدہ کا نام کیا تھا؟", options: ["فاطمہ", "عائشہ", "آمنہ", "خدیجہ"], correctOptionIndex: 2, explanation: "نبی کریم ﷺ کی والدہ کا نام آمنہ تھا (صفحہ 1290)." },
                { question: "نبی کریم ﷺ کے دادا کا نام کیا تھا؟", options: ["ابوطالب", "عبداللہ", "عبدالمطلب", "عباس"], correctOptionIndex: 2, explanation: "نبی کریم ﷺ کے دادا کا نام عبدالمطلب تھا (صفحہ 1291)." },
                { question: "نبی کریم ﷺ کی پیدائش کس شہر میں ہوئی؟", options: ["مدینہ", "طائف", "مکہ", "قدس"], correctOptionIndex: 2, explanation: "نبی کریم ﷺ مکہ مکرمہ میں پیدا ہوئے (صفحہ 1292)." },
                { question: "نبی کریم ﷺ کی پیدائش کے وقت کون سا واقعہ پیش آیا جس کا ذکر قرآن میں بھی ہے؟", options: ["جنگ بدر", "عام الفیل (ہاتھیوں کا واقعہ)", "ہجرت مدینہ", "صلح حدیبیہ"], correctOptionIndex: 1, explanation: "عام الفیل کے سال نبی کریم ﷺ کی ولادت ہوئی (صفحہ 1293)." },
                { question: "نبی کریم ﷺ کے رضاعی والد کا نام کیا تھا؟", options: ["ابو سفیان", "ابو لہب", "حارث", "ابو ہریرہ"], correctOptionIndex: 2, explanation: "نبی کریم ﷺ نے حلیمہ سعدیہ کے ہاں پرورش پائی، ان کے شوہر کا نام حارث تھا (صفحہ 1294)." },
                { question: "نبی کریم ﷺ نے کتنے سال کی عمر میں حضرت خدیجہؓ سے شادی کی؟", options: ["20 سال", "25 سال", "30 سال", "35 سال"], correctOptionIndex: 1, explanation: "نبی کریم ﷺ نے 25 سال کی عمر میں حضرت خدیجہؓ سے شادی کی (صفحہ 1295)." },
                { question: "نبی کریم ﷺ کو پہلی وحی کہاں نازل ہوئی؟", options: ["کعبہ میں", "غارِ ثور میں", "غارِ حرا میں", "مدینہ میں"], correctOptionIndex: 2, explanation: "نبی کریم ﷺ پر پہلی وحی غارِ حرا میں نازل ہوئی (صفحہ 1296)." },
                { question: "پہلی وحی میں قرآن مجید کی کون سی سورت کی آیات نازل ہوئیں؟", options: ["سورۃ الفاتحہ", "سورۃ البقرہ", "سورۃ العلق", "سورۃ الناس"], correctOptionIndex: 2, explanation: "سورۃ العلق کی پہلی پانچ آیات نازل ہوئیں (صفحہ 1297)." },
                { question: "نبی کریم ﷺ نے کتنے سال مکہ میں نبوت کا فریضہ انجام دیا؟", options: ["10 سال", "13 سال", "15 سال", "20 سال"], correctOptionIndex: 1, explanation: "نبی کریم ﷺ نے مکہ میں 13 سال نبوت کا فریضہ انجام دیا (صفحہ 1298)." }
            ];
            quizQuestions.push(...islamiatMCQs);

            // Arabic (7 MCQs from Pages 1414-1420)
            const arabicMCQs = [
                { question: "عربی میں 'رأس' کا کیا مطلب ہے؟", options: ["پاؤں", "ہاتھ", "سر", "گردن"], correctOptionIndex: 2, explanation: "رأس کے معنی سر ہیں (صفحہ 1414)." },
                { question: "عربی میں 'شَجَرَةٌ' کا کیا مطلب ہے؟", options: ["پانی", "آگ", "درخت", "پتھر"], correctOptionIndex: 2, explanation: "شَجَرَةٌ کا مطلب درخت ہے (صفحہ 1415)." },
                { question: "عربی میں 'بَابٌ' کا کیا مطلب ہے؟", options: ["کھڑکی", "دروازہ", "دیوار", "چھت"], correctOptionIndex: 1, explanation: "بَابٌ کا مطلب دروازہ ہے (صفحہ 1416)." },
                { question: "عربی میں 'مِفْتَاحٌ' کا کیا مطلب ہے؟", options: ["تالہ", "چابی", "کتاب", "قلم"], correctOptionIndex: 1, explanation: "مِفْتَاحٌ کا مطلب چابی ہے (صفحہ 1417)." },
                { question: "عربی میں 'قَلَمٌ' کا کیا مطلب ہے؟", options: ["کتاب", "کاپی", "میز", "قلم"], correctOptionIndex: 3, explanation: "قَلَمٌ کا مطلب قلم ہے (صفحہ 1418)." },
                { question: "عربی میں 'بَيْتٌ' کا کیا مطلب ہے؟", options: ["مدرسہ", "مسجد", "گھر", "بازار"], correctOptionIndex: 2, explanation: "بَيْتٌ کا مطلب گھر ہے (صفحہ 1419)." },
                { question: "عربی میں 'كِتَابٌ' کا کیا مطلب ہے؟", options: ["قلم", "میز", "کتاب", "کاپی"], correctOptionIndex: 2, explanation: "كِتَابٌ کا مطلب کتاب ہے (صفحہ 1420)." }
            ];
            quizQuestions.push(...arabicMCQs);

            // Tajweed (3 MCQs from Pages 1465-1467)
            const tajweedMCQs = [
                { question: "اِظْہَار کی تعریف کیا ہے؟", options: ["نون ساکن یا تنوین کے بعد حروفِ اِخفَا میں سے کوئی حرف آئے", "نون ساکن یا تنوین کے بعد حروفِ حَلْقِی میں سے کوئی حرف آئے اور نون ساکن و تنوین کو بغیر غنہ کے ظاہر کرنا", "نون ساکن یا تنوین کے بعد حروفِ یرملون میں سے کوئی حرف آئے", "نون ساکن یا تنوین کو میم سے بدلنا"], correctOptionIndex: 1, explanation: "اِظْہَار کے معنی ظاہر کرنے کے ہیں (صفحہ 1465)." },
                { question: "اِخفَا کی تعریف کیا ہے؟", options: ["نون ساکن یا تنوین کو ظاہر کرنا", "نون ساکن یا تنوین کو میم سے بدلنا", "نون ساکن یا تنوین کے بعد حروفِ اِخفَا میں سے کوئی حرف آئے اور غنہ کے ساتھ چھپا کر پڑھنا", "نون ساکن یا تنوین کو حروفِ یرملون میں ضم کرنا"], correctOptionIndex: 2, explanation: "اِخفَا کے معنی چھپانا یا پوشیدہ رکھنا ہے (صفحہ 1466)." },
                { question: "اِقْلَاب کا قاعدہ کب ہوتا ہے؟", options: ["نون ساکن یا تنوین کے بعد حروفِ حلقی میں سے کوئی حرف آئے", "نون ساکن یا تنوین کے بعد حرف 'ب' آئے", "نون ساکن یا تنوین کے بعد حروفِ یرملون میں سے کوئی حرف آئے", "نون ساکن یا تنوین کے بعد حروفِ اِخفَا میں سے کوئی حرف آئے"], correctOptionIndex: 1, explanation: "اِقْلَاب کے معنی بدلنا ہیں (صفحہ 1467)." }
            ];
            quizQuestions.push(...tajweedMCQs);

            // Randomly select one special question from the entire set
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Load MathJax for rendering LaTeX
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
        script.async = true;
        document.head.appendChild(script);

        // Initialize the quiz when the script loads
        initializeQuiz();
    </script>
</body>
</html>

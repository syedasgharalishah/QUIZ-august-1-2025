<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDUCATION DEPARTMENT SCREENING TEST PREPARATION - May 28, 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Very light gray */
            color: #2C3E50; /* Main text color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Changed from 10vh to 100vh for full page height */
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .top-bar {
            background-color: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .top-bar .date-display {
            color: #6D6875;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .top-bar .whatsapp-link {
            color: #6D6875;
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-section {
            background-color: #ffffff;
            padding: 1.5rem 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }

        .quiz-title {
            font-family: 'Roboto', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #2C3E50;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 80%;
            max-width: 600px;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 1rem auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #20B2AA, #3EB489);
            border-radius: 5px;
            transition: width 0.3s ease-in-out;
        }

        .banner-logo {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            margin-top: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .credits {
            font-size: 0.85rem;
            color: #6D6875;
            margin-top: 0.5rem;
        }

        .card {
            background-color: #FFF5EE; /* PeachPuff */
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 700px;
            width: 90%;
            box-sizing: border-box;
        }

        .button-gradient {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9); /* Lavender to PeachPuff */
            color: #2C3E50;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            border: none;
        }

        .button-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .button-gradient:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .option-button {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 0.75rem;
            color: #2C3E50;
            font-weight: normal;
        }

        .option-button:hover:not(.selected) {
            background-color: #f0f0f0;
        }

        .option-button.selected {
            border-color: #6D6875;
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .option-button.correct {
            background-color: #90EE90; /* LightGreen */
            border-color: #28a745;
            animation: pulse-green 0.5s ease-out forwards;
        }

        .option-button.incorrect {
            background-color: #FF6B6B; /* Red pulse */
            border-color: #dc3545;
            animation: shake-red 0.5s ease-out forwards;
        }

        .special-question {
            border: 3px solid #FFD700; /* Gold border */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .explanation {
            background-color: #e0f7fa;
            border-left: 5px solid #20B2AA;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            color: #2C3E50;
            font-size: 0.9rem;
            display: none; /* Hidden by default */
        }

        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 1rem;
            text-align: center;
        }

        .question-progress {
            font-size: 1rem;
            color: #6D6875;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
            }
            .top-bar .date-display {
                order: 2; /* Move date to bottom on mobile */
                font-size: 0.8rem;
                align-self: flex-start; /* Align to start on mobile */
            }
            .top-bar .whatsapp-link {
                order: 1; /* Move whatsapp to top on mobile */
                font-size: 0.8rem;
                align-self: flex-end; /* Align to end on mobile */
            }
            .quiz-title {
                font-size: 1.5rem;
            }
            .banner-logo {
                max-width: 150px;
            }
            .card {
                margin: 0.75rem auto;
                padding: 1rem;
            }
            .button-gradient {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            .option-button {
                padding: 0.6rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        /* Pulse animation for correct answer */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(144, 238, 144, 0); }
            100% { box-shadow: 0 0 0 0 rgba(144, 238, 144, 0); }
        }

        /* Shake animation for wrong answer */
        @keyframes shake-red {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <script>
        document.addEventListener('contextmenu', event => event.preventDefault()); // Disable right-click
        document.addEventListener('keydown', e => {
            if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
                e.preventDefault(); // Disable Ctrl+U, Ctrl+Shift+I, Ctrl+Shift+J
            }
            if (e.key === 'F12') {
                e.preventDefault(); // Disable F12
            }
        });
        document.addEventListener('copy', event => event.preventDefault()); // Disable copy
        document.addEventListener('paste', event => event.preventDefault()); // Disable paste
    </script>

    <div class="top-bar">
        <a href="https://chat.whatsapp.com/your-whatsapp-community-link" target="_blank" class="whatsapp-link">
            <i class="fab fa-whatsapp"></i> Join WhatsApp Community
        </a>
        <div class="date-display" id="liveDate"></div>
    </div>

    <div class="header-section">
        <h1 class="quiz-title" id="quizTitle"></h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <img src="https://i.ibb.co/LXdkJVy8/20250524-0050-Empowering-Educators-remix-01jw0makvqewdvqns1te3jvpgs.png" alt="Banner Logo" class="banner-logo mx-auto">
        <div class="credits">
            KP Teacher Corps | PREPARED BY: SYED ASGHAR ALI SHAH | Contact: 03265762698
            <br>
            Updated on: <span id="updatedDate"></span>
        </div>
    </div>

    <main class="flex-grow flex items-center justify-center p-4">
        <div id="loginPage" class="card">
            <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
            <div class="mb-4">
                <label for="loginId" class="block text-sm font-medium text-gray-700 mb-1">ID:</label>
                <input type="text" id="loginId" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <div class="mb-6">
                <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password:</label>
                <input type="password" id="loginPassword" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" value="">
            </div>
            <p id="loginError" class="text-red-500 text-sm mb-4 hidden">Invalid ID or Password</p>
            <button id="loginBtn" class="button-gradient w-full">Login</button>
        </div>

        <div id="candidateNamePage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Candidate Information</h2>
            <div class="mb-6">
                <label for="candidateName" class="block text-sm font-medium text-gray-700 mb-1">Enter Full Name:</label>
                <input type="text" id="candidateName" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Your Full Name">
            </div>
            <p id="nameError" class="text-red-500 text-sm mb-4 hidden">Please enter your full name.</p>
            <button id="startQuizBtn" class="button-gradient w-full">Start Quiz</button>
        </div>

        <div id="quizPage" class="card hidden">
            <div class="timer-display" id="timerDisplay"></div>
            <div class="question-progress" id="questionProgress"></div>
            <h2 class="text-lg font-semibold mb-4" id="questionText"></h2>
            <div id="optionsContainer" class="flex flex-col gap-3 mb-6">
                </div>
            <div class="flex justify-between">
                <button id="prevBtn" class="button-gradient px-6 py-2">Previous</button>
                <button id="nextBtn" class="button-gradient px-6 py-2">Next</button>
                <button id="submitQuizBtn" class="button-gradient px-6 py-2 hidden">Submit Quiz</button>
            </div>
            <div id="explanationDiv" class="explanation"></div>
        </div>

        <div id="resultsPage" class="card hidden">
            <h2 class="text-xl font-bold mb-4 text-center">Quiz Results</h2>
            <p class="mb-2"><strong>Candidate Name:</strong> <span id="resultCandidateName"></span></p>
            <p class="mb-2"><strong>Date of Quiz:</strong> <span id="resultDate"></span></p>
            <p class="mb-2"><strong>Score:</strong> <span id="resultScore"></span> / 200</p>
            <p class="mb-2"><strong>Correct Answers:</strong> <span id="resultCorrect"></span></p>
            <p class="mb-2"><strong>Incorrect Answers:</strong> <span id="resultIncorrect"></span></p>
            <p class="mb-4"><strong>Time Taken:</strong> <span id="resultTimeTaken"></span></p>
            <button id="restartQuizBtn" class="button-gradient w-full">Restart Quiz</button>
        </div>
    </main>

    <script>
        // Set the current date for display and logic
        const CURRENT_DATE_STR = "May 28, 2025"; // MANDATORY DAILY INPUT
        const CURRENT_DATE = new Date(CURRENT_DATE_STR);

        // Update header dates
        document.getElementById('liveDate').textContent = CURRENT_DATE_STR;
        document.getElementById('updatedDate').textContent = CURRENT_DATE_STR;
        document.getElementById('quizTitle').textContent = `EDUCATION DEPARTMENT SCREENING TEST PREPARATION – ${CURRENT_DATE_STR}`;

        // Quiz Data Structure
        let quizQuestions = []; // Will be populated by initializeQuiz
        let currentQuestionIndex = 0;
        let userAnswers = []; // Stores { questionIndex: int, selectedOptionIndex: int, isCorrect: bool }
        let quizStartTime;
        let timerInterval;
        const QUIZ_DURATION_MINUTES = 40;
        let specialQuestionIndex = -1; // To store the index of the special question

        // --- Helper Functions ---

        /**
         * Shuffles an array in place using Fisher-Yates (Knuth) shuffle.
         * @param {Array} array - The array to shuffle.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * Generates a unique ID for Formspree submission.
         * @returns {string} A unique ID.
         */
        function generateUniqueId() {
            return 'quiz_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        /**
         * Converts seconds to a human-readable time string (e.g., "35 minutes 10 seconds").
         * @param {number} totalSeconds - The total number of seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes} minutes ${seconds} seconds`;
        }

        /**
         * Updates the progress bar and question progress text.
         */
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('questionProgress').textContent = `Question ${currentQuestionIndex + 1}/${quizQuestions.length} – ${Math.round(progress)}% Complete`;
        }

        /**
         * Displays a specific page and hides others.
         * @param {string} pageId - The ID of the page to display.
         */
        function showPage(pageId) {
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('candidateNamePage').classList.add('hidden');
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById(pageId).classList.remove('hidden');
        }

        /**
         * Starts the quiz timer.
         */
        function startTimer() {
            quizStartTime = Date.now();
            let timeLeft = QUIZ_DURATION_MINUTES * 60; // Convert minutes to seconds

            function updateTimerDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timerDisplay').textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz(true); // Auto-submit on timer expiry
                } else {
                    timeLeft--;
                }
            }

            updateTimerDisplay(); // Initial display
            timerInterval = setInterval(updateTimerDisplay, 1000);
        }

        /**
         * Renders the current question and its options.
         */
        function renderQuestion() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('questionText').innerHTML = question.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = ''; // Clear previous options

            // Remove special-question class from previous question if any
            const quizCard = document.getElementById('quizPage');
            quizCard.classList.remove('special-question');

            // Add special-question class if it's today's special question and date matches
            const today = new Date();
            const todayNormalized = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const currentQuizDateNormalized = new Date(CURRENT_DATE.getFullYear(), CURRENT_DATE.getMonth(), CURRENT_DATE.getDate());

            if (question.special && todayNormalized.getTime() === currentQuizDateNormalized.getTime()) {
                quizCard.classList.add('special-question');
            }

            // Shuffle options for the current question
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);


            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-button', 'w-full');
                button.textContent = option;
                // Store the original index of the option, not its shuffled position
                button.dataset.originalOptionIndex = question.options.indexOf(option);
                button.onclick = () => selectOption(parseInt(button.dataset.originalOptionIndex));

                // Apply selected state if already answered
                const userAnswer = userAnswers[currentQuestionIndex];
                if (userAnswer && userAnswer.selectedOptionIndex === parseInt(button.dataset.originalOptionIndex)) {
                    button.classList.add('selected');
                    if (userAnswer.isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    // Disable all options if already answered
                    Array.from(optionsContainer.children).forEach(optBtn => optBtn.disabled = true);
                    document.getElementById('explanationDiv').style.display = 'block';
                }
                optionsContainer.appendChild(button);
            });

            // Show/hide explanation
            const explanationDiv = document.getElementById('explanationDiv');
            explanationDiv.innerHTML = `<p class="font-bold">Explanation:</p><p>${question.explanation}</p>`;
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                explanationDiv.style.display = 'block';
            } else {
                explanationDiv.style.display = 'none';
            }

            // Update navigation buttons visibility
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').classList.toggle('hidden', currentQuestionIndex === quizQuestions.length - 1);
            document.getElementById('submitQuizBtn').classList.toggle('hidden', currentQuestionIndex !== quizQuestions.length - 1);

            updateProgressBar();
        }

        /**
         * Handles option selection by the user.
         * @param {number} selectedOptionOriginalIndex - The original index of the selected option.
         */
        function selectOption(selectedOptionOriginalIndex) {
            const question = quizQuestions[currentQuestionIndex];
            // If already answered, do nothing
            if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].selectedOptionIndex !== undefined) {
                return;
            }

            const isCorrect = (selectedOptionOriginalIndex === question.correctOptionIndex);

            // Store user's answer
            userAnswers[currentQuestionIndex] = {
                questionIndex: currentQuestionIndex,
                selectedOptionIndex: selectedOptionOriginalIndex,
                isCorrect: isCorrect
            };

            // Apply visual feedback and disable options
            const optionsContainer = document.getElementById('optionsContainer');
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true; // Disable all options after selection
                button.classList.remove('option-button:hover:not(.selected)'); // Remove hover effect

                const btnOriginalIndex = parseInt(button.dataset.originalOptionIndex);

                if (btnOriginalIndex === selectedOptionOriginalIndex) {
                    button.classList.add('selected');
                    if (isCorrect) {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                // Highlight the correct answer if the selected answer was incorrect
                if (!isCorrect && btnOriginalIndex === question.correctOptionIndex) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            // Show explanation
            document.getElementById('explanationDiv').style.display = 'block';
        }

        /**
         * Navigates to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        /**
         * Navigates to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        /**
         * Submits the quiz, calculates results, and displays them.
         * @param {boolean} isAutoSubmit - True if submitted by timer, false otherwise.
         */
        function submitQuiz(isAutoSubmit = false) {
            clearInterval(timerInterval); // Stop the timer

            const endTime = Date.now();
            const timeTakenSeconds = Math.round((endTime - quizStartTime) / 1000);

            let correctCount = 0;
            let incorrectCount = 0;
            let attemptedCount = 0;

            userAnswers.forEach(answer => {
                if (answer && answer.selectedOptionIndex !== undefined) {
                    attemptedCount++;
                    if (answer.isCorrect) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            });

            const score = (correctCount * 2) - (incorrectCount * 1);
            const candidateName = document.getElementById('candidateName').value;

            document.getElementById('resultCandidateName').textContent = candidateName;
            document.getElementById('resultDate').textContent = CURRENT_DATE_STR;
            document.getElementById('resultScore').textContent = score;
            document.getElementById('resultCorrect').textContent = `${correctCount}`;
            document.getElementById('resultIncorrect').textContent = `${incorrectCount}`;
            document.getElementById('resultTimeTaken').textContent = formatTime(timeTakenSeconds);

            showPage('resultsPage');

            // Silent Formspree submission
            const formData = new FormData();
            formData.append('Candidate Name', candidateName);
            formData.append('Date of Quiz', CURRENT_DATE_STR);
            formData.append('Score', score);
            formData.append('Correct Answers', correctCount);
            formData.append('Incorrect Answers', incorrectCount);
            formData.append('Time Taken', formatTime(timeTakenSeconds));
            formData.append('Quiz ID', generateUniqueId()); // Unique ID for each submission

            fetch('https://formspree.io/f/xwpojgab', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    console.log('Quiz results submitted successfully!');
                } else {
                    console.error('Formspree submission failed.');
                }
            }).catch(error => {
                console.error('Error during Formspree submission:', error);
            });
        }

        // --- Event Listeners ---

        document.getElementById('loginBtn').addEventListener('click', () => {
            const id = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            const loginError = document.getElementById('loginError');

            if (id === '28may' && password === '1122') {
                loginError.classList.add('hidden');
                showPage('candidateNamePage');
            } else {
                loginError.classList.remove('hidden');
            }
        });

        document.getElementById('startQuizBtn').addEventListener('click', () => {
            const candidateNameInput = document.getElementById('candidateName');
            const candidateName = candidateNameInput.value.trim();
            const nameError = document.getElementById('nameError');

            if (candidateName) {
                nameError.classList.add('hidden');
                // Initialize userAnswers array for the new quiz attempt
                userAnswers = new Array(quizQuestions.length).fill(null);
                currentQuestionIndex = 0;
                startTimer();
                renderQuestion();
                showPage('quizPage');
            } else {
                nameError.classList.remove('hidden');
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('submitQuizBtn').addEventListener('click', () => submitQuiz(false));
        document.getElementById('restartQuizBtn').addEventListener('click', () => {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = [];
            clearInterval(timerInterval); // Clear any lingering timer
            // Re-shuffle questions for a new attempt
            initializeQuiz();
            showPage('loginPage'); // Go back to login for a fresh start
        });

        // --- Quiz Initialization ---
        function initializeQuiz() {
            // Clear previous questions
            quizQuestions.length = 0;

            // Pedagogy (10 MCQs)
            const pedagogyMCQs = [
                { question: "The word 'pedagogy' means:", options: ["To guide the child", "To lead the child", "To educate the child", "None of these"], correctOptionIndex: 1, explanation: "The word 'pedagogy' means 'to lead the child'.", difficulty: "easy", source_page: 5 },
                { question: "Pedagogy is the study of:", options: ["Learning process", "Education", "Teaching method", "Books"], correctOptionIndex: 2, explanation: "Pedagogy is the study of teaching methods.", difficulty: "easy", source_page: 5 },
                { question: "Which type of learning is predominantly teacher centered?", options: ["Andragogy", "Pedagogy", "both a and b", "none of these"], correctOptionIndex: 1, explanation: "Pedagogy is a teacher-centered approach to learning.", difficulty: "medium", source_page: 5 },
                { question: "What does andragogy mean?", options: ["Teaching", "Teaching of adults", "Teaching of kids", "Teaching right from the book"], correctOptionIndex: 1, explanation: "Andragogy refers to the methods and principles used in adult education.", difficulty: "medium", source_page: 5 },
                { question: "The first learning center of a child is:", options: ["School", "Society", "Home", "All"], correctOptionIndex: 2, explanation: "The home is considered the first learning center for a child.", difficulty: "medium", source_page: 6 },
                { question: "Formal education usually takes place in the premises of the:", options: ["School", "Home", "Community", "Marketplace"], correctOptionIndex: 0, explanation: "Formal education typically occurs in structured environments like schools.", difficulty: "medium", source_page: 9 },
                { question: "Informal education is best described as the:", options: ["Structured learning", "Process of living", "Pre-planned learning", "Exam-oriented learning"], correctOptionIndex: 1, explanation: "Informal education is knowledge gained through daily experiences and living.", difficulty: "medium", source_page: 10 },
                { question: "Who is considered the 'father of research in teaching'?", options: ["Edward Lee Thorndike", "Lewis Medison", "Joseph Mayer Rice", "None of these"], correctOptionIndex: 2, explanation: "Joseph Mayer Rice is known as the father of research in teaching.", difficulty: "tough", source_page: 5 },
                { question: "Heutagogy is described as:", options: ["Teacher-directed learning", "Peer-based learning", "Self-determined learning", "Collaborative learning"], correctOptionIndex: 2, explanation: "Heutagogy emphasizes self-determined learning.", difficulty: "tough", source_page: 5 },
                { question: "Which type of education is not pre-planned and has no timetable?", options: ["Formal education", "Informal education", "Non-formal education", "Distance education"], correctOptionIndex: 1, explanation: "Informal education is spontaneous and not pre-planned.", difficulty: "tough", source_page: 10 }
            ];
            quizQuestions.push(...pedagogyMCQs);

            // General Science (25 MCQs)
            const generalScienceMCQs = [
                { question: "What is the basic unit of matter?", options: ["Molecule", "Atom", "Element", "Compound"], correctOptionIndex: 1, explanation: "An atom is the basic unit of matter.", difficulty: "easy", source_page: 99 },
                { question: "Which of the following is a state of matter?", options: ["Liquid", "Energy", "Force", "Light"], correctOptionIndex: 0, explanation: "Liquid is one of the fundamental states of matter.", difficulty: "easy", source_page: 100 },
                { question: "What is the process of a solid turning directly into a gas without passing through a liquid state?", options: ["Evaporation", "Condensation", "Melting", "Sublimation"], correctOptionIndex: 3, explanation: "Sublimation is the process where a solid turns directly into a gas.", difficulty: "easy", source_page: 101 },
                { question: "The air we breathe is primarily composed of which two gases?", options: ["Oxygen and Carbon Dioxide", "Hydrogen and Oxygen", "Nitrogen and Oxygen", "Argon and Neon"], correctOptionIndex: 2, explanation: "Air is mainly composed of nitrogen (approx. 78%) and oxygen (approx. 21%).", difficulty: "medium", source_page: 102 },
                { question: "What is the process by which green plants convert light energy into chemical energy?", options: ["Respiration", "Photosynthesis", "Transpiration", "Fermentation"], correctOptionIndex: 1, explanation: "Photosynthesis is the process plants use to make food from sunlight.", difficulty: "medium", source_page: 104 },
                { question: "Which organ is responsible for pumping blood throughout the body?", options: ["Lungs", "Kidneys", "Heart", "Liver"], correctOptionIndex: 2, explanation: "The heart is a muscular organ that pumps blood.", difficulty: "medium", source_page: 105 },
                { question: "What is the main function of red blood cells?", options: ["Transport oxygen", "Fight infections", "Clot blood", "Produce antibodies"], correctOptionIndex: 0, explanation: "Red blood cells are responsible for carrying oxygen from the lungs to the body's tissues.", difficulty: "medium", source_page: 109 },
                { question: "Which vitamin is crucial for healthy vision?", options: ["Vitamin A", "Vitamin C", "Vitamin D", "Vitamin B"], correctOptionIndex: 0, explanation: "Vitamin A is essential for maintaining good eyesight.", difficulty: "medium", source_page: 110 },
                { question: "The process of breaking down food into nutrients is called:", options: ["Absorption", "Digestion", "Excretion", "Metabolism"], correctOptionIndex: 1, explanation: "Digestion is the process of breaking down food.", difficulty: "medium", source_page: 111 },
                { question: "Which part of the human eye contains photoreceptor cells (rods and cones)?", options: ["Cornea", "Iris", "Retina", "Lens"], correctOptionIndex: 2, explanation: "The retina is the light-sensitive layer at the back of the eye.", difficulty: "medium", source_page: 106 },
                { question: "What is the SI unit of force?", options: ["Joule", "Newton", "Watt", "Pascal"], correctOptionIndex: 1, explanation: "The Newton (N) is the SI unit of force.", difficulty: "medium", source_page: 107 },
                { question: "What is the SI unit of power?", options: ["Joule", "Volt", "Watt", "Ampere"], correctOptionIndex: 2, explanation: "The Watt (W) is the SI unit of power.", difficulty: "medium", source_page: 108 },
                { question: "Which type of energy is stored in a stretched spring?", options: ["Kinetic energy", "Potential energy", "Thermal energy", "Chemical energy"], correctOptionIndex: 1, explanation: "A stretched spring stores potential energy.", difficulty: "medium", source_page: 108 },
                { question: "What is the primary function of the human skeleton?", options: ["Support and protection", "Digestion", "Respiration", "Circulation"], correctOptionIndex: 0, explanation: "The skeleton provides structural support and protects internal organs.", difficulty: "medium", source_page: 113 },
                { question: "Which gas is a major contributor to the greenhouse effect?", options: ["Oxygen", "Nitrogen", "Carbon dioxide", "Helium"], correctOptionIndex: 2, explanation: "Carbon dioxide is a significant greenhouse gas.", difficulty: "medium", source_page: 102 },
                { question: "What is the atomic number of an element defined by?", options: ["Number of neutrons", "Number of protons", "Number of electrons", "Sum of protons and neutrons"], correctOptionIndex: 1, explanation: "The atomic number is equal to the number of protons in an atom's nucleus.", difficulty: "tough", source_page: 99 },
                { question: "According to Charles's Law, for a fixed mass of gas at constant pressure, volume is directly proportional to its:", options: ["Absolute temperature", "Pressure", "Density", "Mass"], correctOptionIndex: 0, explanation: "Charles's Law describes the relationship between volume and temperature of a gas.", difficulty: "tough", source_page: 100 },
                { question: "What is the specific heat capacity of a substance?", options: ["The amount of heat required to melt 1 kg of the substance.", "The amount of heat required to vaporize 1 kg of the substance.", "The amount of heat required to raise the temperature of 1 gram of the substance by 1 degree Celsius.", "The amount of heat required to raise the temperature of 1 kg of the substance by 1 K"], correctOptionIndex: 3, explanation: "Specific heat capacity is the heat required to change the temperature of a unit mass.", difficulty: "tough", source_page: 101 },
                { question: "Which layer of the atmosphere contains the ozone layer?", options: ["Troposphere", "Mesosphere", "Stratosphere", "Thermosphere"], correctOptionIndex: 2, explanation: "The ozone layer is found in the stratosphere.", difficulty: "tough", source_page: 102 },
                { question: "What is the primary role of enzymes in biological reactions?", options: ["To provide energy", "To act as catalysts", "To store genetic information", "To transport oxygen"], correctOptionIndex: 1, explanation: "Enzymes speed up biochemical reactions without being consumed.", difficulty: "tough", source_page: 104 },
                { question: "Which type of blood vessel carries oxygenated blood away from the heart to the rest of the body?", options: ["Arteries", "Veins", "Capillaries", "Venules"], correctOptionIndex: 0, explanation: "Arteries carry oxygen-rich blood away from the heart.", difficulty: "tough", source_page: 105 },
                { question: "What is the phenomenon where light rays bend as they pass from one medium to another?", options: ["Reflection", "Diffraction", "Refraction", "Interference"], correctOptionIndex: 2, explanation: "Refraction is the bending of light as it passes through different mediums.", difficulty: "tough", source_page: 106 },
                { question: "What is the principle that states 'energy cannot be created or destroyed, but only transformed from one form to another'?", options: ["Law of Gravity", "Law of Conservation of Energy", "Newton's First Law", "Law of Thermodynamics"], correctOptionIndex: 1, explanation: "This is the fundamental principle of energy conservation.", difficulty: "tough", source_page: 108 },
                { question: "Which part of the human brain is responsible for higher-level functions like thought and voluntary movement?", options: ["Cerebrum", "Cerebellum", "Brainstem", "Medulla oblongata"], correctOptionIndex: 0, explanation: "The cerebrum is the largest part of the brain, responsible for complex functions.", difficulty: "tough", source_page: 112 },
                { question: "What is the process by which water moves from an area of high concentration to an area of low concentration across a semi-permeable membrane?", options: ["Diffusion", "Osmosis", "Active transport", "Facilitated diffusion"], correctOptionIndex: 1, explanation: "Osmosis is the specific movement of water across a membrane.", difficulty: "tough", source_page: 116 }
            ];
            quizQuestions.push(...generalScienceMCQs);

            // Social Studies (15 MCQs)
            const socialStudiesMCQs = [
                { question: "What is the capital city of Pakistan?", options: ["Lahore", "Islamabad", "Karachi", "Peshawar"], correctOptionIndex: 1, explanation: "Islamabad is the capital of Pakistan.", difficulty: "easy", source_page: 453 },
                { question: "Which country shares its western border with Pakistan?", options: ["India", "Afghanistan", "Iran", "China"], correctOptionIndex: 1, explanation: "Afghanistan borders Pakistan to the west.", difficulty: "easy", source_page: 453 },
                { question: "The K2 mountain, the second highest peak in the world, is located in which mountain range?", options: ["Himalayas", "Hindu Kush", "Karakoram Range", "Sulaiman Mountains"], correctOptionIndex: 2, explanation: "K2 is part of the Karakoram mountain range.", difficulty: "medium", source_page: 454 },
                { question: "Which Pakistani province is known as the 'Land of Five Rivers'?", options: ["Sindh", "Balochistan", "Punjab", "Khyber Pakhtunkhwa"], correctOptionIndex: 2, explanation: "Punjab is named for its five major rivers.", difficulty: "medium", source_page: 455 },
                { question: "The Indus River originates from which region?", options: ["Tibetan Plateau", "Himalayan Mountains", "Karakoram Range", "Hindu Kush Mountains"], correctOptionIndex: 0, explanation: "The Indus River originates in the Tibetan Plateau.", difficulty: "medium", source_page: 456 },
                { question: "What is the name of the largest desert in Pakistan?", options: ["Thal Desert", "Cholistan Desert", "Thar Desert", "Kharan Desert"], correctOptionIndex: 2, explanation: "The Thar Desert is the largest desert in Pakistan.", difficulty: "medium", source_page: 458 },
                { question: "Which historical city is known as the 'City of Gardens' in Pakistan?", options: ["Peshawar", "Lahore", "Multan", "Karachi"], correctOptionIndex: 1, explanation: "Lahore is famously known as the 'City of Gardens'.", difficulty: "medium", source_page: 459 },
                { question: "The ancient city of Taxila was a significant center of which civilization?", options: ["Gandhara Civilization", "Indus Valley Civilization", "Mughal Civilization", "Persian Civilization"], correctOptionIndex: 0, explanation: "Taxila was a major center of the Gandhara civilization.", difficulty: "medium", source_page: 460 },
                { question: "Who was the founder of the Mughal Empire in India?", options: ["Akbar", "Humayun", "Babur", "Aurangzeb"], correctOptionIndex: 2, explanation: "Babur established the Mughal Empire.", difficulty: "medium", source_page: 461 },
                { question: "The Lahore Resolution, demanding a separate homeland for Muslims, was passed in which year?", options: ["1930", "1940", "1947", "1956"], correctOptionIndex: 1, explanation: "The Lahore Resolution was passed in 1940.", difficulty: "medium", source_page: 465 },
                { question: "What was the primary reason for the partition of India in 1947?", options: ["Economic disparities", "Demand for a separate Muslim state", "British colonial policy", "Religious conflicts"], correctOptionIndex: 1, explanation: "The demand for a separate Muslim state was the driving force behind partition.", difficulty: "tough", source_page: 462 },
                { question: "Who was the first Governor-General of Pakistan?", options: ["Muhammad Ali Jinnah", "Liaquat Ali Khan", "Allama Iqbal", "Ayub Khan"], correctOptionIndex: 0, explanation: "Muhammad Ali Jinnah was the first Governor-General.", difficulty: "tough", source_page: 463 },
                { question: "The Simla Agreement was signed between India and Pakistan in which year?", options: ["1965", "1972", "1988", "1999"], correctOptionIndex: 1, explanation: "The Simla Agreement was signed in 1972.", difficulty: "tough", source_page: 464 },
                { question: "Which historical figure is known as the 'Father of the Nation' of Pakistan?", options: ["Muhammad Ali Jinnah", "Allama Iqbal", "Liaquat Ali Khan", "Sir Syed Ahmed Khan"], correctOptionIndex: 0, explanation: "Muhammad Ali Jinnah is revered as the 'Father of the Nation'.", difficulty: "tough", source_page: 463 },
                { question: "The ancient city of Mohenjo-Daro belongs to which civilization?", options: ["Gandhara Civilization", "Buddhist Civilization", "Indus Valley Civilization", "Persian Civilization"], correctOptionIndex: 2, explanation: "Mohenjo-Daro is a major archaeological site of the Indus Valley Civilization.", difficulty: "tough", source_page: 460 }
            ];
            quizQuestions.push(...socialStudiesMCQs);

            // English (25 MCQs)
            const englishMCQs = [
                { question: "Which part of speech names a person, place, thing, or idea?", options: ["Verb", "Noun", "Adjective", "Adverb"], correctOptionIndex: 1, explanation: "A noun is a word that names something.", difficulty: "easy", source_page: 799 },
                { question: "Which part of speech replaces a noun?", options: ["Adjective", "Verb", "Pronoun", "Adverb"], correctOptionIndex: 2, explanation: "A pronoun stands in for a noun.", difficulty: "medium", source_page: 800 },
                { question: "Which part of speech describes a noun or pronoun?", options: ["Adjective", "Adverb", "Verb", "Conjunction"], correctOptionIndex: 0, explanation: "An adjective modifies a noun or pronoun.", difficulty: "medium", source_page: 801 },
                { question: "In the sentence 'She runs quickly,' what part of speech is 'runs'?", options: ["Noun", "Adjective", "Verb", "Adverb"], correctOptionIndex: 2, explanation: "'Runs' is an action word, making it a verb.", difficulty: "medium", source_page: 802 },
                { question: "An adverb modifies a verb, an adjective, or another:", options: ["Noun", "Adverb", "Pronoun", "Preposition"], correctOptionIndex: 1, explanation: "Adverbs provide more information about verbs, adjectives, or other adverbs.", difficulty: "medium", source_page: 803 },
                { question: "Which part of speech shows the relationship between a noun/pronoun and other words in a sentence?", options: ["Conjunction", "Preposition", "Interjection", "Verb"], correctOptionIndex: 1, explanation: "Prepositions link nouns/pronouns to other words.", difficulty: "medium", source_page: 804 },
                { question: "Words like 'and,' 'but,' and 'or' are examples of:", options: ["Conjunctions", "Prepositions", "Interjections", "Adverbs"], correctOptionIndex: 0, explanation: "Conjunctions connect words, phrases, or clauses.", difficulty: "medium", source_page: 805 },
                { question: "Words that express sudden strong feelings are called:", options: ["Adjectives", "Adverbs", "Conjunctions", "Interjections"], correctOptionIndex: 3, explanation: "Interjections are exclamatory words.", difficulty: "medium", source_page: 806 },
                { question: "Identify the common noun in 'The boy played with his dog.'", options: ["The", "played", "boy", "his"], correctOptionIndex: 2, explanation: "'Boy' is a general name for a person.", difficulty: "medium", source_page: 799 },
                { question: "Which type of pronoun is used as the subject of a sentence?", options: ["Subject pronoun", "Object pronoun", "Possessive pronoun", "Reflexive pronoun"], correctOptionIndex: 0, explanation: "Subject pronouns perform the action of the verb.", difficulty: "medium", source_page: 800 },
                { question: "In 'The tall building,' what type of adjective is 'tall'?", options: ["Possessive adjective", "Descriptive adjective", "Demonstrative adjective", "Interrogative adjective"], correctOptionIndex: 1, explanation: "'Tall' describes a quality of the building.", difficulty: "medium", source_page: 801 },
                { question: "Which verb form indicates an action that is currently happening?", options: ["Present continuous", "Past simple", "Future simple", "Present perfect"], correctOptionIndex: 0, explanation: "The present continuous tense shows ongoing action.", difficulty: "medium", source_page: 802 },
                { question: "An adverb of time answers the question:", options: ["How?", "Where?", "When?", "To what extent?"], correctOptionIndex: 2, explanation: "Adverbs of time specify when an action occurs.", difficulty: "medium", source_page: 803 },
                { question: "Which preposition indicates location 'at a specific point'?", options: ["in", "at", "on", "under"], correctOptionIndex: 1, explanation: "'At' is used for precise locations.", difficulty: "medium", source_page: 804 },
                { question: "Neither...nor' is an example of which type of conjunction?", options: ["Coordinating conjunction", "Subordinating conjunction", "Correlative conjunction", "Adverbial conjunction"], correctOptionIndex: 2, explanation: "Correlative conjunctions work in pairs.", difficulty: "medium", source_page: 805 },
                { question: "What is the function of a noun phrase?", options: ["Functions as a noun in a sentence", "Modifies a verb", "Connects clauses", "Expresses emotion"], correctOptionIndex: 0, explanation: "A noun phrase acts as a noun within a sentence.", difficulty: "medium", source_page: 799 },
                { question: "Differentiate between a transitive and an intransitive verb with examples.", options: ["Transitive takes a direct object, intransitive does not", "Transitive describes a state of being, intransitive describes an action", "Transitive is always followed by a preposition, intransitive is not", "None of the above"], correctOptionIndex: 0, explanation: "The key difference is the presence of a direct object.", difficulty: "tough", source_page: 802 },
                { question: "Explain the concept of a gerund and its function in a sentence.", options: ["A verb form ending in -ing that functions as a noun", "A verb form ending in -ed that functions as an adjective", "A verb form that expresses a command", "A verb form that acts as an adverb"], correctOptionIndex: 0, explanation: "Gerunds are verb forms acting as nouns.", difficulty: "tough", source_page: 799 },
                { question: "What is the difference between a possessive pronoun and a possessive adjective?", options: ["Possessive pronoun modifies a noun, possessive adjective stands alone", "Possessive pronoun stands alone, possessive adjective modifies a noun", "Possessive pronouns indicate ownership, possessive adjectives indicate quantity", "There is no difference"], correctOptionIndex: 1, explanation: "This distinction is based on their grammatical role.", difficulty: "tough", source_page: 800 },
                { question: "Discuss the order of adjectives when multiple adjectives modify a single noun.", options: ["Opinion, size, age, shape, color, origin, material, purpose", "Size, opinion, color, age, shape, material, origin, purpose", "Color, size, opinion, age, shape, material, origin, purpose", "There is no fixed order"], correctOptionIndex: 0, explanation: "Adjectives generally follow a specific order.", difficulty: "tough", source_page: 801 },
                { question: "How do phrasal verbs differ from regular verbs?", options: ["Phrasal verbs are always transitive, regular verbs are always intransitive", "Phrasal verbs combine a verb with a preposition or adverb to create a new meaning", "Regular verbs are always followed by an object, phrasal verbs are not", "None of the above"], correctOptionIndex: 1, explanation: "Phrasal verbs create idiomatic meanings.", difficulty: "tough", source_page: 802 },
                { question: "Explain the difference between an adverb of manner and an adverb of degree.", options: ["Manner tells how, degree tells to what extent", "Manner tells when, degree tells where", "Manner tells why, degree tells how often", "There is no difference"], correctOptionIndex: 0, explanation: "Manner describes the way, degree describes the intensity.", difficulty: "tough", source_page: 803 },
                { question: "What is the role of a prepositional phrase in a sentence?", options: ["Functions as a verb", "Functions as a noun", "Functions as an adjective or adverb", "Functions as a conjunction"], correctOptionIndex: 2, explanation: "Prepositional phrases add descriptive detail.", difficulty: "tough", source_page: 804 },
                { question: "Differentiate between subordinating and coordinating conjunctions.", options: ["Subordinating connects dependent and independent clauses, coordinating connects independent clauses", "Subordinating connects independent clauses, coordinating connects dependent and independent clauses", "Subordinating connects words, coordinating connects phrases", "There is no difference"], correctOptionIndex: 0, explanation: "Conjunctions differ in the types of clauses they connect.", difficulty: "tough", source_page: 805 },
                { question: "Provide an example of an interjection used in a sentence with appropriate punctuation.", options: ["Wow! That's amazing.", "Wow, that's amazing.", "Wow. That's amazing.", "Wow; that's amazing."], correctOptionIndex: 0, explanation: "Interjections often use exclamation marks.", difficulty: "tough", source_page: 806 }
            ];
            quizQuestions.push(...englishMCQs);

            // Mathematics (25 MCQs)
            const mathematicsMCQs = [
                { question: "What is the value of $7^2$?", options: ["14", "49", "7", "21"], correctOptionIndex: 1, explanation: "$7^2 = 7 \\times 7 = 49$.", difficulty: "easy", source_page: 954 },
                { question: "What is the sum of 125 and 75?", options: ["100", "150", "200", "225"], correctOptionIndex: 2, explanation: "$125 + 75 = 200$.", difficulty: "easy", source_page: 955 },
                { question: "What is 50% of 150?", options: ["25", "75", "100", "125"], correctOptionIndex: 1, explanation: "$50\\% \\text{ of } 150 = 0.50 \\times 150 = 75$.", difficulty: "easy", source_page: 956 },
                { question: "What is the area of a rectangle with length 15 cm and width 8 cm?", options: ["23 cm²", "46 cm²", "120 cm²", "60 cm²"], correctOptionIndex: 2, explanation: "Area of rectangle = length × width = $15 \\times 8 = 120$ cm².", difficulty: "medium", source_page: 957 },
                { question: "What is the volume of a cylinder with radius 3 cm and height 10 cm? (Use $\\pi = 3.14$)", options: ["94.2 cm³", "188.4 cm³", "282.6 cm³", "314 cm³"], correctOptionIndex: 2, explanation: "Volume of cylinder = $\\pi r^2 h = 3.14 \\times 3^2 \\times 10 = 3.14 \\times 9 \\times 10 = 282.6$ cm³.", difficulty: "medium", source_page: 958 },
                { question: "Solve for $x$: $3x - 10 = 20$.", options: ["5", "10", "15", "20"], correctOptionIndex: 1, explanation: "$3x = 30$, so $x = 10$.", difficulty: "medium", source_page: 959 },
                { question: "Find the LCM of 8 and 12.", options: ["4", "16", "24", "32"], correctOptionIndex: 2, explanation: "The least common multiple of 8 and 12 is 24.", difficulty: "medium", source_page: 960 },
                { question: "Find the GCD of 36 and 48.", options: ["12", "6", "18", "24"], correctOptionIndex: 0, explanation: "The greatest common divisor of 36 and 48 is 12.", difficulty: "medium", source_page: 960 },
                { question: "What is the square root of 196?", options: ["12", "14", "16", "18"], correctOptionIndex: 1, explanation: "The square root of 196 is 14 ($14 \\times 14 = 196$).", difficulty: "medium", source_page: 954 },
                { question: "If a car travels 210 km in 3 hours, what is its average speed?", options: ["60 km/h", "65 km/h", "70 km/h", "75 km/h"], correctOptionIndex: 2, explanation: "Speed = Distance / Time = $210 \\text{ km} / 3 \\text{ hours} = 70 \\text{ km/h}$.", difficulty: "medium", source_page: 955 },
                { question: "A jacket costs $80. If there is a 15% discount, what is the sale price?", options: ["$12", "$68", "$72", "$80"], correctOptionIndex: 1, explanation: "Discount amount = $15\\% \\text{ of } 80 = 0.15 \\times 80 = 12$. Sale price = $80 - 12 = 68$.", difficulty: "medium", source_page: 956 },
                { question: "What is the perimeter of a regular octagon with side length 5 cm?", options: ["20 cm", "30 cm", "40 cm", "50 cm"], correctOptionIndex: 2, explanation: "An octagon has 8 sides. Perimeter = $8 \\times 5 = 40$ cm.", difficulty: "medium", source_page: 957 },
                { question: "Solve the equation: $x/4 + 7 = 12$.", options: ["16", "18", "20", "24"], correctOptionIndex: 2, explanation: "$x/4 = 12 - 7 = 5$, so $x = 5 \\times 4 = 20$.", difficulty: "medium", source_page: 959 },
                { question: "What is the next number in the sequence: 2, 4, 8, 16, ...?", options: ["20", "24", "28", "32"], correctOptionIndex: 3, explanation: "This is a geometric progression where each term is multiplied by 2. So, $16 \\times 2 = 32$.", difficulty: "medium", source_page: 960 },
                { question: "What is the value of $x$ in the equation $5^{x+1} = 125$?", options: ["2", "3", "4", "5"], correctOptionIndex: 0, explanation: "$125 = 5^3$. So, $5^{x+1} = 5^3$, which means $x+1 = 3$, and $x = 2$.", difficulty: "tough", source_page: 954 },
                { question: "A mixture contains milk and water in the ratio 3:2. If there are 15 liters of milk, what is the total volume of the mixture?", options: ["20 liters", "25 liters", "30 liters", "35 liters"], correctOptionIndex: 1, explanation: "If 3 parts = 15 liters, then 1 part = 5 liters. Total parts = $3+2=5$. Total volume = $5 \\times 5 = 25$ liters.", difficulty: "tough", source_page: 955 },
                { question: "If an item is sold for $120 after a 25% profit, what was its original cost?", options: ["$90", "$96", "$100", "$110"], correctOptionIndex: 1, explanation: "Let original cost be C. $C + 0.25C = 120 \\Rightarrow 1.25C = 120 \\Rightarrow C = 120 / 1.25 = 96$.", difficulty: "tough", source_page: 956 },
                { question: "The area of a trapezoid is $60 cm^2$. If its parallel sides are 8 cm and 12 cm, what is its height?", options: ["4 cm", "5 cm", "6 cm", "7 cm"], correctOptionIndex: 2, explanation: "Area = $1/2 \\times (sum \\ of \\ parallel \\ sides) \\times height$. $60 = 1/2 \\times (8+12) \\times h \\Rightarrow 60 = 1/2 \\times 20 \\times h \\Rightarrow 60 = 10h \\Rightarrow h = 6$ cm.", difficulty: "tough", source_page: 957 },
                { question: "A sphere has a radius of 3 cm. What is its volume? (Use $\\pi = 3.14$)", options: ["28.26 cm³", "56.52 cm³", "113.04 cm³", "37.68 cm³"], correctOptionIndex: 2, explanation: "Volume of sphere = $4/3 \\pi r^3 = 4/3 \\times 3.14 \\times 3^3 = 4/3 \\times 3.14 \\times 27 = 4 \\times 3.14 \\times 9 = 113.04$ cm³.", difficulty: "tough", source_page: 958 },
                { question: "Solve the system of equations: $x + y = 10$ and $x - y = 2$.", options: ["$x=6, y=4$", "$x=4, y=6$", "$x=5, y=5$", "$x=7, y=3$"], correctOptionIndex: 0, explanation: "Adding the two equations: $(x+y) + (x-y) = 10+2 \\Rightarrow 2x = 12 \\Rightarrow x = 6$. Substitute $x=6$ into $x+y=10 \\Rightarrow 6+y=10 \\Rightarrow y=4$.", difficulty: "tough", source_page: 959 },
                { question: "What is the probability of rolling an even number on a standard six-sided die?", options: ["1/6", "1/2", "1/3", "2/3"], correctOptionIndex: 1, explanation: "Even numbers are 2, 4, 6 (3 outcomes). Total outcomes = 6. Probability = $3/6 = 1/2$.", difficulty: "tough", source_page: 960 },
                { question: "What is the sum of the first 100 natural numbers?", options: ["4950", "5000", "5050", "5100"], correctOptionIndex: 2, explanation: "Sum = $n(n+1)/2 = 100(100+1)/2 = 100 \\times 101 / 2 = 50 \\times 101 = 5050$.", difficulty: "tough", source_page: 955 },
                { question: "If a worker completes 1/3 of a job in 4 days, how many more days will it take to complete the remaining job at the same rate?", options: ["4 days", "8 days", "12 days", "16 days"], correctOptionIndex: 1, explanation: "If 1/3 job in 4 days, then 1 job in $4 \\times 3 = 12$ days. Remaining job = $1 - 1/3 = 2/3$. Time for remaining job = $(2/3) \\times 12 = 8$ days.", difficulty: "tough", source_page: 959 },
                { question: "What is the median of the following data set: 10, 12, 15, 18, 20, 22?", options: ["15", "16.5", "17", "18"], correctOptionIndex: 1, explanation: "The data set is ordered. Since there are an even number of values, the median is the average of the two middle numbers: $(15+18)/2 = 33/2 = 16.5$.", difficulty: "tough", source_page: 960 },
                { question: "What is the value of $x$ in the equation $2^{x-1} = 32$?", options: ["4", "5", "6", "7"], correctOptionIndex: 2, explanation: "$32 = 2^5$. So, $2^{x-1} = 2^5$, which means $x-1 = 5$, and $x = 6$.", difficulty: "tough", source_page: 954 }
            ];
            quizQuestions.push(...mathematicsMCQs);


            // Ensure exact counts for difficulty levels
            let easyQuestions = [];
            let mediumQuestions = [];
            let toughQuestions = [];

            // First, filter by initial difficulty
            quizQuestions.forEach(q => {
                if (q.difficulty === "easy") easyQuestions.push(q);
                else if (q.difficulty === "medium") mediumQuestions.push(q);
                else if (q.difficulty === "tough") toughQuestions.push(q);
            });

            // Adjust counts to meet target: 10 Easy, 50 Medium, 40 Tough
            // Prioritize tough, then medium, then easy for filling/reducing
            // This is a simplified adjustment. In a real scenario, you'd have a larger pool
            // and more sophisticated algorithms for difficulty adjustment.

            // Adjust Easy (Target: 10)
            while (easyQuestions.length > 10) {
                mediumQuestions.push(easyQuestions.pop()); // Move easy to medium
            }
            while (easyQuestions.length < 10 && mediumQuestions.length > 0) {
                easyQuestions.push(mediumQuestions.pop()); // Move medium to easy
            }

            // Adjust Tough (Target: 40)
            while (toughQuestions.length > 40) {
                mediumQuestions.push(toughQuestions.pop()); // Move tough to medium
            }
            while (toughQuestions.length < 40 && mediumQuestions.length > 0) {
                toughQuestions.push(mediumQuestions.pop()); // Move medium to tough
            }
            // If still short on tough, and no more medium, it means the initial pool was not balanced enough.
            // For this specific request, the generated pool should be sufficient.

            // Adjust Medium (Target: 50) - this should be the last adjustment
            while (mediumQuestions.length > 50) {
                // If we have too many medium, push to tough if tough is not full, else remove
                if (toughQuestions.length < 40) {
                    toughQuestions.push(mediumQuestions.pop());
                } else {
                    mediumQuestions.pop(); // Simply remove if no place in tough (shouldn't happen with 100 total)
                }
            }
            while (mediumQuestions.length < 50 && easyQuestions.length > 10) { // Only pull from easy if easy has surplus
                mediumQuestions.push(easyQuestions.pop());
            }
            while (mediumQuestions.length < 50 && toughQuestions.length > 40) { // Only pull from tough if tough has surplus
                mediumQuestions.push(toughQuestions.pop());
            }


            // Recombine the questions, ensuring the total is 100
            quizQuestions = [...easyQuestions, ...mediumQuestions, ...toughQuestions];
            shuffleArray(quizQuestions); // Shuffle the entire combined list

            // Ensure exactly 100 questions
            quizQuestions = quizQuestions.slice(0, 100);

            // Randomly select one "Today's Special Question"
            specialQuestionIndex = Math.floor(Math.random() * quizQuestions.length);
            quizQuestions[specialQuestionIndex].special = true;

            // Apply 30% chance to shuffle the entire quiz order
            if (Math.random() < 0.3) {
                shuffleArray(quizQuestions);
                // After shuffling, find the new index of the special question
                specialQuestionIndex = quizQuestions.findIndex(q => q.special);
            }
        }

        // Initialize the quiz when the script loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeQuiz();
            // Initial call to set correct sticky date position on load
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });

        // Handle mobile sticky date position on resize
        window.addEventListener('resize', () => {
            const liveDateElement = document.getElementById('liveDate');
            if (window.innerWidth < 768) {
                liveDateElement.style.alignSelf = 'flex-start';
            } else {
                liveDateElement.style.alignSelf = 'flex-end';
            }
        });
    </script>
</body>
</html>
